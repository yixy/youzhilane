# 架构之路(07)——代码层面设计 #

## 1. 多线程编程 ##

从资源利用率的角度看，使用多线程的原因主要有两个：IO阻塞与多CPU。

编程上，解决线程安全的手段主要有：

* 使用无状态对象：解决多线程并发访问的状态不一致问题。不过，站在面向对象的角度，这是一种不良设计。
* 使用局部对象：减少资源的并发访问场景。
* 并发访问资源时使用锁：使用锁可能导致性能下降。

## 2. 资源复用 ##

系统运行时，要尽量减少开销很大的系统资源的创建和销毁。从编程角度，资源复用主要有两种模式：单例（singleton）和对象池（Object Pool）。

* 数据库链连接
* 网络通信连接
* 线程
* 复杂对象
