
## 指令周期 ##

考虑冯诺依曼机器和最初的ENIAC的区别，现在编程容易多了，不再需要为每个新的程序重新连接硬件，所需要的只是提供新的代码序列。

冯诺依曼结构的计算机（存储程序并按地址顺序执行），通过反复执行指令周期（instruction cycle）来运行。指令周期通常分为：

* 取指周期（fetch cycle）：装载指令（包括操作码及地址码）。（一般情况下，会同时设置PC+1，以指向下一条指令）
* 执行周期（execute cycle）：控制电路翻译操作码，并且通过发送相应的控制信号来执行指令。这些信号控制操作数的传送和ALU操作的执行。
* 中断周期（interrupt cycle）：CPU在每条指令执行阶段结束前， 都要发中断查询信号，以检测是否有某个中断请求。如果有请求，CPU则要进入中断响应阶段，又称中断周期。在这阶段， CPU必须将程序断点保存到存储器中。

> 某些资料中将执行周期分为间指周期和执行周期。

指令和数据是应用上的概念，在内存或磁盘上，指令和数据没有任何区别，都是二进制信息。CPU在工作的时候把有的信息看作指令，有的信息看作数据。实际上，指令和数据是无差别的存放在主存中的，本质上它们就是一系列二进制数据。计算机通过两个方面来做区分，分别是时间和空间。

1. 时间。在取指周期（或取值微指令）取出的为指令，在指令执行周期（或相应微程序）取出（或写入）的为数据。
2. 空间（或者叫地址来源）。由PC提供存储单元地址的取出的是指令，由指令地址码部分（Add(IR)）提供存储单元地址的取出的是操作数。内存取出指令送控制器，而指令执行周期从内存中取的数据送运算器、往内存写入的数据也是来自于运算器。

## 指令的读取和执行 ##

一条指令格式可以分为操作码和地址码两部分。地址码中存放了需要操作的数据的具体地址。操作码的操作类型可以分为4类：

* CPU-主存：数据可以从CPU传送到主存，或从主存传送到CPU
* CPU-IO：通过CPU和IO模块之间的传输，数据可传动到货来自外部设备。
* 数据处理：CPU对数据进行算术或逻辑操作
* 跳转控制：改变指令执行顺序。（这样实现了不总是获取PC+1的指令作为下一条指令）

> 某些情况下，需要IO直接同主存交换数据。这种情况下，CPU授予IO模块读写主存的权利，这样IO和主存的传输就不需要CPU的介入。在传输中，IO模块向存储器发出读或写的命令，解脱了CPU负责数据交换的责任。这种操作称为直接存储器访问（DMA）。

补充指令周期状态图（P）

注意，上图中操作数地址计算状态出现了两次，这是因为指令可能包含读操作或写操作，或兼而有之，读写操作的两种状况中该状态所完成的操作基本相同，所以使用同一个状态标识。
最后，在某些机器中，单条指令可以指定一系列向量（一维数组）或字符串（一维数组）执行操作，它将重复取操作数和（或）存操作数。
