
我们希望拥有一个私有的、无限大容量的、速度无限快的，断电不会丢失数据，并且价格低廉的存储器——但很遗憾，目前没有这样的存储设备。存储设备有很多种类，不同的存储设备各有特点。

## 0. 存储器与主存、IO设备 ##

**注意，从功能上看，磁盘、磁带等系统是存储器分层体系等一部分，但是从计算机结构上看，它们是由IO模块控制的，实际上是外部IO设备。**

> 计算机硬件由三部分组成：CPU、主存储器、I/O设备。cache和register一般在CPU中。磁盘、光盘、磁带等低速存储设备则常被用作外部IO设备，用于存放程序的输入或者输出数据。

## 1. 按存储器所在位置分 ##

就存储位置而言，计算机存储器有内部和外部之分。

* 内存：通常等同于主存储器，但还有其他形式。处理器内部的存储器以寄存器和片内cache的形式存在。当然，多数计算机在处理器和主存之间还有片外cache。
* 外存：通常指外围存储设备，如磁盘、磁带、光盘、闪存（ROM的一种）等。

## 2. 存储分层体系（按速度和价格分） ##

目前计算机系统使用的存储体系是一种分层存储器体系。在该体系中，由上到下，速度越来越慢，价格越来越低。在主存（RAM）以下的都可以认为（与RAM比）是低速存储设备。

主机内部的存储器称为内存，一般为RAM。主机外部的存储器称为辅存(外存)，一般为磁盘、磁带、光盘、闪存（ROM的一种）。注意，寄存器和cache是比较特殊的存储器，通常是SRAM，寄存器通常用于CPU内部暂存数据使用，片内cache位于CPU内，用于解决CPU和主存速度不匹配的问题(主存存取速度比CPU运算速度慢很多)。片外cache位于CPU外。

从寄存器，到cache，到主存，再到闪存、磁盘、磁带/光盘，价格越来越低，速度越来越慢，但在计算机中的容量通常越来越大。

* 寄存器(register)：通常是SRAM，由硬件管理，register同主存之间的数据交换对所有程序员都是透明的
* cache：Cache通常是用SRAM组成的一种高速缓冲存储器。由硬件管理，cache同主存之间的数据交换对所有程序员都是透明的
* 主存：主存目前一般都是RAM。主存的管理由硬件和操作系统来完成，即主存同磁盘、光盘、磁带等低速设备之间的数据交换对应用程序员是透明的
* ROM：同磁盘，低速非易失性存储器被抽象称为文件进行管理，文件模型对应用程序员来说是可见的
* 磁盘：磁盘等低速非易失性存储器的管理则被抽象称为文件进行管理，文件模型对应用程序员来说是可见的
* 光盘、磁带：同磁盘，低速非易失性存储器被抽象称为文件进行管理，文件模型对应用程序员来说是可见的

> 缓存cache设计的讨论见《架构之路(03)缓存设计》

## 3. 按存储介质分 ##

* 半导体存储器：RAM(SRAM、DRAM)、ROM(MROM、PROM、EPROM、EEPROM、FLASH)。半导体存储器都是随机访问设备，易失性存取，但注意ROM是非易失性的。注意，RAM即随机存储器是一个名词误用，事实上半导体存储器都是随机存取的。
* 磁介质存储器：磁表面存储器(磁盘、磁带)、磁芯存储器(已淘汰)。磁介质存储器都是串行访问设备，非易失性存取。串行访问设备可分为顺序访问设备(如磁带、光盘)和直接访问设备(即部分串行，如磁盘)。
* 光介质存储器：光盘。光介质存储器也是串行访问设备，非易失性存取。

> RAM(Random Access Memory)是一个术语误用，实际上ROM（Read Only Memory）也是随机存取的。

## 4. 按存储易失性分 ##

存储设备具有易失性是指设备断电后讲丢失所有数据内容。

如前所述，半导体存储器中RAM属于易失性存储。半导体存储器中的ROM，以及磁介质存储器和光介质存储器都属于非易失性存储。

## 5. 按存取方式分 ##

半导体存储器属于随机存取设备，磁介质和光介质存储器都属于串行存取设备。

## 6. 存储器纠错 ##

存储器一般采用纠错码的方式进行数据错误检测或纠正。