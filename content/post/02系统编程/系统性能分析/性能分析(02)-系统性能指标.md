

对于一个具体的系统，例如，一台计算机系统，一个数据库，或者一个Web应用，经常会遇到这样的问题：系统的性能到底是指什么，以及如何衡量系统的性能。针对不同场景下的不同系统，性能的含义可能并不相同。很难给出性能的定义，但是可以通过一些客观指标，对其加以描述。

## 1. 响应时间 ##

响应时间是指完成某件任务所需要的时间（所有操作完成的耗时）。这是一个很重要的性能指标，大多数情况下，系统性能就是指其响应时间。

通常来说延时（latency）是响应时间的一部分，但是某些语境下，延时和响应时间被认为是相同的。

注意，响应时间指标的测试，通常采用大量请求的方式进行。比如，测量一万次请求所需的总响应时间之和，然后除以一万，得到单次请求的响应时间。这样做是为了避免测试行为本身对响应时间的统计造成较大影响。

常见的响应时间表。

| 操作 | 响应时间  |
|-----|----------|
| 一个CPU周期 | 0.3ns |
| L1缓存访问 | 0.9ns |
| L2缓存访问 | 2.8ns |
| L3缓存访问 | 12.9ns |
| 主存访问（CPU访问DRAM） | 120ns |
| 系统调用 | <1-25us |
| 从内存读取1MB数据 | 10+us |
| Java本地方法调用 | <10us |
| 固体硬盘IO（闪存） | 50-150us |
| 从固体硬盘顺序读取1MB数据 | 300us |
| 从redis读取一个数据（良好的网络场景下？） | 500us |
| 机械磁盘寻道时间 | 典型的寻道时间2-30ms，平均寻道时间一般在4-10ms之间 |
| 机械磁盘旋转等待时间 | 磁盘旋转一周时间的1/2，即`1/(转数*2)`。例如5400rpm为5.56ms |
| 机械磁盘访问时间 | 一般在8-20ms之间 |
| 互联网：美国西海岸（旧金山）到东海岸（纽约） | 40ms |
| 互联网：美国西海岸（旧金山）到英国 | 81ms |
| 互联网：美国西海岸（旧金山）到澳大利亚 | 183ms |
| TCP包重传 | 1-3s |
| 打开一个页面 | 3s |
| OS虚拟化系统重启 | 4s |
| SCSI命令超时 | 30s |
| 硬件虚拟化系统重启 | 40s |
| 物理系统重启 | min级别 |

## 2. 并发数 ##

这里的并发数是指系统能够同时处理请求的数目，这个数字反映了系统的负载特性。

注意，通常通过多线程模拟并发用户的办法来测试系统的并发处理能力，为了真实模拟用户行为，测试程序并不是启动多线程然后不停地发送请求，而是在两次请求之间加入一个随机等待时间，这个时间被称作思考时间。

## 3 吞吐量 ##

吞吐量指单位时间内系统处理请求的数量，体现系统的整体处理能力。例如，对于网站，可以采取TPS（每秒事务数）来作为吞吐量指标。

响应时间会随并发数增大而变长，如果系统存在某项瓶颈（实际上一定有），达到资源瓶颈时，最终直观表现就是吞吐量到达天花板，甚至下降。

在系统并发数逐渐由小增大的过程中（这个过程伴随着服务器系统资源消耗逐渐增大），系统吞吐量先是逐渐增加，达到一个极限后，随着并发数的增加反而下降，到达系统崩溃点后，系统资源耗尽，吞吐量为零。在这个过程中，响应时间先保持小幅上升，到达吞吐量极限后，快速上升，到达系统崩溃点后，系统失去响应。

## 4. 使用率 ##

资源利用率。

## 5. 饱和度 ##

饱和度是指资源不能再服务更多额外工作的程度，通常用等待队列的长度来衡量。

System Load指当前正在被CPU执行和等待CPU执行的进程数目总和，是反映系统忙闲程度的重要指标。

## 6. 可用性 ##

* 可用性（Availability）：可用性是关于系统可供使用时间的表述，以不可用的时间作为衡量指标。不可用时间越短，可用性越高。这里的不可用是指，一段有限的实际内无法得到系统的响应。

可用性通常用n个9来描述，例如，4个9的可用性（99.99%）是指一年中不可用时间大约在52分钟之内，而5个9的可用性（99.999%）是指一年中不可用时间大约在5分钟之内。

实现高可用（High Availability），通常采用提高冗余度的方案，通过运行多实例集群，用资源换取可用性。一般N个实例建议采用N+2个实例的集群实现高可用（支持热备容灾、发布）。

## 7. 其它 ##

稳定性。

可扩展性。

伸缩性。

