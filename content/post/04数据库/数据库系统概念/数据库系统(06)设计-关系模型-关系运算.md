---
categories:
- 数据库
date: "2019-09-22T21:41:52+08:00"
lastmod: "2019-10-04T09:02:26+08:00"
tags:
- database
title: 数据库系统(06)设计-关系模型-关系运算
---

## 1. 关系运算的三种形式 ##

![关系运算的三种形式](/youzhilane/img/数据库系统概念-关系运算的三种形式.jpg)

## 2. 关系代数 ##

关系运算操作的对象及结果都是集合。

关系代数的基本运算：

* 选择：选出满足给定谓词的元组。（一元行操作）
* 投影：返回作为参数的关系的属性。由于关系是一个集合，所以重复行会被去除。（一元列操作）
* 并：若两个关系的属性相容（属性数目相同，并且对应的属性的域也相同），则两个关系可以合并。（二元行操作）
* 集合差：找出在一个关系中而不在另一个关系中的元组，要求两个关系的属性相容（即属性数目相同，并且对应的属性的域也相同）。（二元行操作 r1-r2）
* 笛卡尔积：（二元行操作 r1xr2）
* 更名：为运算结果的属性更名。（一元列操作）

> 注意细微的区别，表允许重复，关系不允许重复

附加的关系代数运算：前面提到的基本运算足以表达任何关系代数查询。但为了简化表达式，我们在基本运算以外，还定义了一些附加的其他运算，这些附加运算都可以使用基本运算推导得出。

* 集合交：r-(r-s) 
* 自然连接：r1xr2的结果上，对r1和r2都出现的属性(属性名与属性值均相同）进行选择操作，最后还要去除重复属性。
* 除(r/s)：1）s的属性与r的属性的某个真子集相容； 2）r/s 的属性，在r中但不在s中；3）(r/s)xs是集合r的子集。 
* 赋值：有时通过赋值给临时变量的方法，把关系代数表达式分成几个部分写会很简单。tmp=r

![关系代数-除](/youzhilane/img/数据库系统概念-关系代数-除.jpg)

扩展的关系代数运算：允许将算术运算符作为投影的一部分。

* 广义投影：允许在投影列表中使用算术函数来对投影进行扩展。特别地，算术表达式可以仅仅是个属性或者常量。
* 聚合函数：输入值的一个集合，将单一值作为结果返回。如max()，min()，avg()，sum()等。
* 外连接：补充自然连接中不匹配的元组。1）左外连接，取出左侧关系中所有与右侧关系的任一元组都不匹配的元组，用空值填充所有来自右侧关系的属性，再把产生的元组加到自然连接结果上；2）右外连接，取出右侧关系中所有与左侧关系的任一元组都不匹配的元组，用空值填充所有来自左侧关系的属性，再把产生的元组加到自然连接结果上；3）全外连接，完成左外连接和右外连接运算
* 空值：1）空值的算术运算结果是unknown；2）空值的比较运算结果是unknown；3）布尔运算满足，and一假即假，or一真即真。

```
true and unknow = unknow
false and unknow = false
unknow and unknow = unknow
true or unknow = true
false or unknow = unknow
unknow or unknow = unknow
not unknow = unknow
```

## 3. 元组演算 ##

元组演算：（基于逻辑的运算）

![元组演算](/youzhilane/img/数据库系统概念-元组演算.jpg)

元组演算实现关系代数：

![元组演算实现关系代数](/youzhilane/img/数据库系统概念-元组演算实现关系代数.jpg)

## 4. 域演算 ##

域演算的定义与元组演算类似：（基于示例的运算）

![域演算](/youzhilane/img/数据库系统概念-域演算.jpg)

## 5. 关系运算的安全性 ##

![关系运算的安全性](/youzhilane/img/数据库系统概念-关系运算的安全性.jpg)

## 6. 关系运算三种形式的比较 ##

![关系运算三种形式的比较](/youzhilane/img/数据库系统概念-关系运算三种形式的比较.jpg)


## 相关链接 ##

《数据库系统》，哈工大，战德臣，幕客网上有相关视频，分为上中下

https://www.icourse163.org/u/981194?userId=1507001&_trace_c_p_k2_=de1921fe92e844fd9a1fd183586497a2